{% extends 'admin/base.html' %}

{% block content %}

<h1>Job #{{ job.id }}</h1>

<section>
    <h3>Status</h3>
    <p>
        <strong>{{ job.status }}</strong>
    </p>
</section>

<section>
    <h3>Meta</h3>
    <ul>
        <li><b>User:</b> {{ job.user_id }}</li>
        <li><b>Workflow:</b> {{ job.workflow_id }}</li>
        <li><b>Node:</b> {{ job.node_id }}</li>
        <li><b>Created:</b> {{ job.created_at }}</li>
        <li><b>Finished:</b> {{ job.finished_at or "-" }}</li>
    </ul>
</section>

<section>
    <h3>Inputs</h3>
    <pre>{{ job.inputs | tojson(indent=2) }}</pre>
</section>

<section>
    <h3>Resolved Payload</h3>
    <pre>{{ job.prepared_workflow | tojson(indent=2) }}</pre>
</section>

<section>
    <h3>Outputs</h3>
    {% if job.result %}
        <pre>{{ job.result | tojson(indent=2) }}</pre>
    {% else %}
        <p>No outputs yet</p>
    {% endif %}
</section>

{% if job.error_message %}
<section>
    <h3>Error</h3>
    <pre style="color: red">{{ job.error_message }}</pre>
</section>
{% endif %}

{% endblock %}